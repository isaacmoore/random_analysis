for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
data.frame(losing_jokers)
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
tbl_df(losing_jokers)
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- tbl_df(losing_jokers)
add_column(losing_jokers, names(losing_jokers))
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- data_frame(joker = names(losing_jokers), loss = losing_jokers)
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- data_frame(joker = names(losing_jokers), loss = losing_jokers)
losing_jokers
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- data_frame(joker = names(losing_jokers), loss = tibble(losing_jokers))
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- data_frame(joker = names(losing_jokers), loss = losing_jokers)
losing_jokers
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
#losing_jokers <- data_frame(joker = names(losing_jokers), loss = losing_jokers)
tibble(losing_jokers)
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
#losing_jokers <- data_frame(joker = names(losing_jokers), loss = losing_jokers)
tibble(losing_jokers[[]])
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
#losing_jokers <- data_frame(joker = names(losing_jokers), loss = losing_jokers)
tbl_df(losing_jokers)
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- data_frame(joker = names(losing_jokers), loss = losing_jokers)
losing_jokers
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- data_frame(joker = names(losing_jokers), loss = losing_jokers)
losing_jokers
losing_jokers$loss
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers
unlist(losing_jokers)
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers
df <- data.frame(matrix(unlist(losing_jokers), byrow=T),stringsAsFactors=FALSE)
df
df <- data.frame(joker = matrix(unlist(losing_jokers), byrow=T),stringsAsFactors=FALSE)
df
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers
lapply(losing_jokers, `[[`, 2) %>%
data.frame %>%
add_rownames("joker") %>%
gather(x, value, -key) %>%
select(-x)
lapply(losing_jokers, `[[`, 2) %>%
data.frame %>%
add_rownames("joker") %>%
gather(x, value, -key) %>%
select(-x)
typeof(losing_jokers)
stack(losing_jokers)
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- data_frame(stack(losing_jokers))
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- stack(losing_jokers)
losing_jokers
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- stack(losing_jokers)
barplot(losing_jokers)
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- stack(losing_jokers)
losing_jokers
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- stack(losing_jokers)
tbl_df(losing_jokers)
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- ltbl_df(stack(losing_jokers))
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- tbl_df(stack(losing_jokers))
barplot(losing_jokers)
losing_jokers <- list(Joe = 0, Sal = 0, Q = 0, Murr = 0)
for(i in ij$`losing_joker(s)`){
if(str_detect(str_to_lower(i), "joe")){
losing_jokers$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(i),"sal")){
losing_jokers$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(i),"q")){
losing_jokers$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(i),"murr")){
losing_jokers$Murr <- losing_jokers$Murr + 1
}
}
losing_jokers <- tbl_df(stack(losing_jokers))
losing_jokers
ggplot(losing_jokers, aes(x = values, y = ind)) + geom_bar()
ggplot(losing_jokers, aes(x = values, y = ind)) + geom_bar(stat = "identity")
ggplot(losing_jokers, aes(y = values, x = ind)) + geom_bar(stat = "identity")
ggplot(losing_jokers, aes(y = values, x = ind)) +
geom_bar(stat = "identity") +
xlab("Joker") +
ylab("n of losses")
ggplot(losing_jokers, aes(y = values, x = ind)) +
geom_bar(stat = "identity") +
labs(x = "Joker", y = "n of losses")
ij %>% ggplot(aes(x = original_airdate, y = `us_viewers_(millions)`, color = as.factor(season))) +
geom_point() +
geom_smooth(method = "lm")
ij %>% ggplot(aes(x = original_airdate, y = `us_viewers_(millions)`)) +
geom_point(color = as.factor(season)) +
geom_smooth(method = "lm")
ij %>% ggplot(aes(x = original_airdate, y = `us_viewers_(millions)`)) +
geom_point(aes(color = as.factor(season))) +
geom_smooth(method = "lm")
ij %>% ggplot(aes(x = original_airdate, y = `us_viewers_(millions)`)) +
geom_point(aes(color = as.factor(season))) +
geom_smooth(method = "lm", color = "black")
ij %>% ggplot(aes(x = original_airdate, y = `us_viewers_(millions)`)) +
geom_point(aes(color = season = (as.factor(season)))) +
ij %>% ggplot(aes(x = original_airdate, y = `us_viewers_(millions)`)) +
geom_point(aes(color = as.factor(season))) +
geom_smooth(method = "lm", color = "black")
ij %>% ggplot(aes(x = original_airdate, y = `us_viewers_(millions)`)) +
geom_point(aes(color = as.factor(season))) +
geom_smooth(method = "lm", color = "black") +
scale_fill_brewer(palette="Dark2")
ij %>% ggplot(aes(x = original_airdate, y = `us_viewers_(millions)`)) +
geom_point(aes(color = as.factor(season))) +
geom_smooth(method = "lm", color = "black") +
scale_fill_brewer(palette="Set1")
ij %>% ggplot(aes(x = original_airdate, y = `us_viewers_(millions)`)) +
geom_point(aes(color = as.factor(season))) +
geom_smooth(method = "lm", color = "black") +
scale_fill_brewer(palette="PiYG")
ij %>% ggplot(aes(x = original_airdate, y = `us_viewers_(millions)`)) +
geom_point(aes(color = as.factor(season))) +
geom_smooth(method = "lm", color = "black")
losing_jokers <- list()
for(joker in ij$`losing_joker(s)`){
for(season in ij$season){
if(str_detect(str_to_lower(joker), "joe")){
losing_jokers$season$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(joker),"sal")){
losing_jokers$season$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(joker),"q")){
losing_jokers$season$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(joker),"murr")){
losing_jokers$season$Murr <- losing_jokers$Murr + 1
}
}
}
losing_jokers <- tbl_df(stack(losing_jokers))
losing_jokers <- list()
for(joker in ij$`losing_joker(s)`){
for(season in ij$season){
if(str_detect(str_to_lower(joker), "joe")){
losing_jokers$season$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(joker),"sal")){
losing_jokers$season$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(joker),"q")){
losing_jokers$season$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(joker),"murr")){
losing_jokers$season$Murr <- losing_jokers$Murr + 1
}
}
}
losing_jokers# <- tbl_df(stack(losing_jokers))
losing_jokers <- list()
for(joker in ij$`losing_joker(s)`){
for(season in ij$season){
if(str_detect(str_to_lower(joker), "joe")){
losing_jokers[[season]]$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(joker),"sal")){
losing_jokers[[season]]$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(joker),"q")){
losing_jokers[[season]]$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(joker),"murr")){
losing_jokers[[season]]$Murr <- losing_jokers$Murr + 1
}
}
}
losing_jokers <- list()
for(joker in ij$`losing_joker(s)`){
for(season in ij$season){
if(str_detect(str_to_lower(joker), "joe")){
losing_jokers[season]$Joe <- losing_jokers$Joe + 1
}
if(str_detect(str_to_lower(joker),"sal")){
losing_jokers[season]$Sal <- losing_jokers$Sal + 1
}
if(str_detect(str_to_lower(joker),"q")){
losing_jokers[season]$Q <- losing_jokers$Q + 1
}
if(str_detect(str_to_lower(joker),"murr")){
losing_jokers[season]$Murr <- losing_jokers$Murr + 1
}
}
}
losing_jokers# <- tbl_df(stack(losing_jokers))
